(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57c453f1"],{2647:function(t,o,e){},2679:function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"upload"},[e("div",{staticClass:"jumbotron"},[e("h1",{staticClass:"display-3"},[t._v("Hello, Pines!")]),e("p",{staticClass:"lead"},[t._v("Object storage management application.")]),e("hr",{staticClass:"my-4"}),e("b-container",{attrs:{fluid:"lg"}},[e("b-row",[e("b-col",{attrs:{lg:"8",md:"8",xl:"8",offset:"2"}},[e("vue-dropzone",{ref:"upload",attrs:{options:t.dropzoneOptions,useCustomSlot:!0,id:"upload"},on:{"vdropzone-complete":t.completeUpload,"vdropzone-sending":t.sendingEvent,"vdropzone-error":t.errorEvent}},[e("div",{staticClass:"dropzone-custom-content"},[e("h3",{staticClass:"dropzone-custom-title"},[t._v("Drag and drop to upload!")])])])],1),t.success?e("b-col",{staticClass:"mt-4",attrs:{lg:"8",md:"8",xl:"8",offset:"2"}},[e("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[e("strong",[t._v("URL:")]),t._v(" "+t._s(t.message)+" ")])]):t._e()],1)],1),e("p",{staticClass:"lead mt-4"},[e("b-button",{staticClass:"btn btn-danger mr-4",attrs:{role:"button"},on:{click:t.reset}},[t._v("重置")]),e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"Home"}}},[t._v("首页")])],1)],1)])},n=[],a=(e("b0c0"),e("92c3")),r=e.n(a),l=(e("1e3f"),{name:"upload",components:{vueDropzone:r.a},data:function(){return{success:!1,message:"",dropzoneOptions:{url:"/",thumbnailWidth:200,addRemoveLinks:!0,headers:{utoken:""},renameFile:function(t){for(var o=["v","P","h","7","z","Z","w","A","2","L","y","U","4","b","G","q","5","t","c","V","f","I","M","x","J","i","6","X","a","S","o","K","9","C","N","p","0","O","W","l","j","Y","T","H","Q","8","R","E","n","m","u","3","1","B","r","d","g","e","D","k","F","s"],e=function(t){return Math.log(t)/Math.log(10)},s=(new Date).getTime(),n="",a=Math.floor(e(s)/e(62));a>=0;a--){var r=Math.floor(s/Math.pow(62,a));n+=o[r],s-=r*Math.pow(62,a)}return n+"_"+t.name}}}},methods:{reset:function(){this.$refs.upload.removeAllFiles(),this.success=!1},sendingEvent:function(t,o,e){e.append("prefix","images/")},completeUpload:function(t){if("success"===t.status){this.success=!0;var o=JSON.parse(t.xhr.response);this.message=o.data}else console.log("上传失败：",t)},errorEvent:function(t,o,e){console.log("上传失败事件:",o)}},created:function(){var t=this;this.http.get("/get_upload_config").then((function(o){var e=o.data;t.$refs.upload.dropzone.options.headers.utoken=e.utoken,"Ups"===e.url?t.$refs.upload.dropzone.options.url="/api/ups?operate=upload":"Cos"===e.url?t.$refs.upload.dropzone.options.url="/api/cos?operate=upload":"Oss"===e.url&&(t.$refs.upload.dropzone.options.url="/api/oss?operate=upload")}))}}),i=l,c=(e("5c3d"),e("2877")),u=Object(c["a"])(i,s,n,!1,null,null,null);o["default"]=u.exports},"5c3d":function(t,o,e){"use strict";var s=e("2647"),n=e.n(s);n.a},b0c0:function(t,o,e){var s=e("83ab"),n=e("9bf2").f,a=Function.prototype,r=a.toString,l=/^\s*function ([^ (]*)/,i="name";s&&!(i in a)&&n(a,i,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(t){return""}}})}}]);